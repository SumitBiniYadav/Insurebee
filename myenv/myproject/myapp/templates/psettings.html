{% extends 'slidebar.html' %}
{% load static %}

{% block title %}Settings - InsureBee Admin{% endblock %}

{% block page_title %}System Settings{% endblock %}

{% block additional_styles %}
.settings-container {
    padding: 20px;
    background-color: white;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.settings-section {
    margin-bottom: 30px;
    border-bottom: 1px solid #eee;
    padding-bottom: 20px;
}

.settings-section:last-child {
    border-bottom: none;
}

.settings-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.settings-title {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-dark);
    display: flex;
    align-items: center;
}

.settings-title i {
    margin-right: 10px;
    color: var(--primary);
}

.settings-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.settings-card {
    background-color: #fff;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    border-left: 4px solid var(--primary);
    transition: all 0.3s;
}

.settings-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.card-title {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 10px;
    color: var(--text-dark);
}

.card-description {
    font-size: 14px;
    color: #666;
    margin-bottom: 15px;
}

.toggle-switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 24px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 24px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

input:checked + .slider {
    background-color: var(--primary);
}

input:focus + .slider {
    box-shadow: 0 0 1px var(--primary);
}

input:checked + .slider:before {
    transform: translateX(26px);
}

.settings-form {
    margin-top: 20px;
}

.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
}

.form-control {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
}

.form-control:focus {
    border-color: var(--primary);
    outline: none;
}

.btn-save {
    background-color: var(--primary);
    color: var(--text-dark);
    border: none;
    padding: 10px 20px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s;
}

.btn-save:hover {
    background-color: var(--primary-dark);
}

.settings-tabs {
    display: flex;
    border-bottom: 1px solid #ddd;
    margin-bottom: 20px;
}

.settings-tab {
    padding: 10px 20px;
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: all 0.3s;
}

.settings-tab.active {
    border-bottom: 3px solid var(--primary);
    font-weight: 600;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

.policy-template-box {
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 15px;
    margin-bottom: 10px;
}

.template-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
}

.template-actions {
    display: flex;
    gap: 10px;
}

.btn-sm {
    padding: 5px 10px;
    font-size: 12px;
}

.btn-edit {
    background-color: #4CAF50;
    color: white;
}

.btn-delete {
    background-color: #f44336;
    color: white;
}

/* Backup and maintenance styles */
.backup-history {
    margin-top: 20px;
}

.backup-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #eee;
}

.backup-item:last-child {
    border-bottom: none;
}

.backup-date {
    font-weight: 500;
}

.backup-size {
    color: #666;
}

.backup-actions {
    display: flex;
    gap: 10px;
}

/* Modal styles */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.4);
}

.modal-content {
    background-color: #fefefe;
    margin: 10% auto;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    width: 60%;
    max-width: 600px;
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
}
{% endblock %}

{% block content %}
<div class="settings-container">
    <div class="settings-tabs">
        <div class="settings-tab active" data-tab="general">General</div>
        <div class="settings-tab" data-tab="notifications">Notifications</div>
        <div class="settings-tab" data-tab="policies">Policy Management</div>
        <div class="settings-tab" data-tab="security">Security & Access</div>
        <div class="settings-tab" data-tab="system">System & Maintenance</div>
    </div>

    <!-- General Settings Tab -->
    <div id="general" class="tab-content active">
        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-globe"></i> Site Settings
                </div>
            </div>
            <div class="settings-cards">
                <div class="settings-card">
                    <div class="card-title">Company Information</div>
                    <div class="card-description">Update your company details displayed throughout the system</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="company_name">Company Name</label>
                            <input type="text" id="company_name" class="form-control" value="InsureBee Ltd.">
                        </div>
                        <div class="form-group">
                            <label for="company_email">Support Email</label>
                            <input type="email" id="company_email" class="form-control" value="support@insurebee.com">
                        </div>
                        <div class="form-group">
                            <label for="company_phone">Support Phone</label>
                            <input type="text" id="company_phone" class="form-control" value="+1 (555) 123-4567">
                        </div>
                        <button type="submit" class="btn-save">Save Changes</button>
                    </form>
                </div>
                <div class="settings-card">
                    <div class="card-title">System Appearance</div>
                    <div class="card-description">Customize the look and feel of the admin dashboard</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="primary_color">Primary Color</label>
                            <input type="color" id="primary_color" class="form-control" value="#ffc107">
                        </div>
                        <div class="form-group">
                            <label for="secondary_color">Secondary Color</label>
                            <input type="color" id="secondary_color" class="form-control" value="#212121">
                        </div>
                        <div class="form-group">
                            <label>Dark Mode</label>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <button type="submit" class="btn-save">Apply Theme</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-language"></i> Localization
                </div>
            </div>
            <div class="settings-cards">
                <div class="settings-card">
                    <div class="card-title">Regional Settings</div>
                    <div class="card-description">Configure date, time, and number formats</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="timezone">Timezone</label>
                            <select id="timezone" class="form-control">
                                <option selected>UTC-5 (Eastern Time)</option>
                                <option>UTC-8 (Pacific Time)</option>
                                <option>UTC-6 (Central Time)</option>
                                <option>UTC+0 (GMT)</option>
                                <option>UTC+5:30 (IST)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="date_format">Date Format</label>
                            <select id="date_format" class="form-control">
                                <option selected>MM/DD/YYYY</option>
                                <option>DD/MM/YYYY</option>
                                <option>YYYY-MM-DD</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="currency">Currency</label>
                            <select id="currency" class="form-control">
                                <option selected>USD ($)</option>
                                <option>EUR (€)</option>
                                <option>GBP (£)</option>
                                <option>INR (₹)</option>
                            </select>
                        </div>
                        <button type="submit" class="btn-save">Save Changes</button>
                    </form>
                </div>
                <div class="settings-card">
                    <div class="card-title">Language Settings</div>
                    <div class="card-description">Set default language for the admin panel</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="default_language">Default Language</label>
                            <select id="default_language" class="form-control">
                                <option selected>English (US)</option>
                                <option>Spanish</option>
                                <option>French</option>
                                <option>German</option>
                                <option>Chinese (Simplified)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Enable Multi-language Support</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <button type="submit" class="btn-save">Save Changes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications Settings Tab -->
    <div id="notifications" class="tab-content">
        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-bell"></i> Notification Preferences
                </div>
            </div>
            <div class="settings-cards">
                <div class="settings-card">
                    <div class="card-title">Admin Notifications</div>
                    <div class="card-description">Configure when you receive notifications</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label>New Customer Registration</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>New Policy Purchase</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>New Claim Submission</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Document Verification Required</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Payment Failure</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Policy Expiration (30 days prior)</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <button type="submit" class="btn-save">Save Preferences</button>
                    </form>
                </div>
                <div class="settings-card">
                    <div class="card-title">Email Notifications</div>
                    <div class="card-description">Configure email notification settings</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="notification_email">Notification Email</label>
                            <input type="email" id="notification_email" class="form-control" value="admin@insurebee.com">
                        </div>
                        <div class="form-group">
                            <label>Send Daily Summary</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Send Weekly Report</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="email_frequency">Email Frequency</label>
                            <select id="email_frequency" class="form-control">
                                <option>Immediate</option>
                                <option selected>Digest (Once per day)</option>
                                <option>Weekly Summary</option>
                            </select>
                        </div>
                        <button type="submit" class="btn-save">Save Preferences</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-envelope"></i> Customer Communication
                </div>
            </div>
            <div class="settings-cards">
                <div class="settings-card">
                    <div class="card-title">Email Templates</div>
                    <div class="card-description">Manage automated email templates sent to customers</div>
                    <div class="settings-form">
                        <div class="form-group">
                            <label for="template_type">Select Template</label>
                            <select id="template_type" class="form-control">
                                <option>Welcome Email</option>
                                <option>Policy Confirmation</option>
                                <option>Claim Acknowledgment</option>
                                <option>Payment Receipt</option>
                                <option>Document Verification</option>
                            </select>
                        </div>
                        <button type="button" class="btn-save" onclick="openEditTemplateModal()">Edit Template</button>
                    </div>
                </div>
                <div class="settings-card">
                    <div class="card-title">SMS Notifications</div>
                    <div class="card-description">Configure SMS alerts for customers</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label>Enable SMS Notifications</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="sms_provider">SMS Provider</label>
                            <select id="sms_provider" class="form-control">
                                <option selected>Twilio</option>
                                <option>SendGrid</option>
                                <option>AWS SNS</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sms_api_key">API Key</label>
                            <input type="password" id="sms_api_key" class="form-control" value="••••••••••••••••">
                        </div>
                        <button type="submit" class="btn-save">Save Settings</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Policy Management Tab -->
    <div id="policies" class="tab-content">
        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-file-alt"></i> Policy Settings
                </div>
            </div>
            <div class="settings-cards">
                <div class="settings-card">
                    <div class="card-title">Default Policy Settings</div>
                    <div class="card-description">Configure default values for new policies</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="default_duration">Default Duration (years)</label>
                            <input type="number" id="default_duration" class="form-control" value="1">
                        </div>
                        <div class="form-group">
                            <label for="grace_period">Payment Grace Period (days)</label>
                            <input type="number" id="grace_period" class="form-control" value="15">
                        </div>
                        <div class="form-group">
                            <label for="auto_renewal">Auto-Renewal Period (days prior)</label>
                            <input type="number" id="auto_renewal" class="form-control" value="30">
                        </div>
                        <div class="form-group">
                            <label>Enable Auto-Renewal by Default</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <button type="submit" class="btn-save">Save Settings</button>
                    </form>
                </div>
                <div class="settings-card">
                    <div class="card-title">Policy Number Generation</div>
                    <div class="card-description">Configure how policy numbers are generated</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="policy_prefix">Policy Number Prefix</label>
                            <input type="text" id="policy_prefix" class="form-control" value="IB-">
                        </div>
                        <div class="form-group">
                            <label for="numbering_format">Numbering Format</label>
                            <select id="numbering_format" class="form-control">
                                <option selected>Year-Sequential (YYYY-NNNNN)</option>
                                <option>Type-Sequential (T-NNNNNNN)</option>
                                <option>Random Alphanumeric</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="next_sequence">Next Sequential Number</label>
                            <input type="number" id="next_sequence" class="form-control" value="10547" readonly>
                        </div>
                        <button type="submit" class="btn-save">Save Settings</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-clipboard-list"></i> Policy Templates
                </div>
                <button class="btn-save" onclick="openAddTemplateModal()">Add New Template</button>
            </div>
            <div class="policy-template-box">
                <div class="template-header">
                    <h4>Standard Life Insurance</h4>
                    <div class="template-actions">
                        <button class="btn-save btn-sm btn-edit">Edit</button>
                        <button class="btn-save btn-sm btn-delete">Delete</button>
                    </div>
                </div>
                <p>Default template for life insurance policies with standard coverage options.</p>
            </div>
            <div class="policy-template-box">
                <div class="template-header">
                    <h4>Comprehensive Health Insurance</h4>
                    <div class="template-actions">
                        <button class="btn-save btn-sm btn-edit">Edit</button>
                        <button class="btn-save btn-sm btn-delete">Delete</button>
                    </div>
                </div>
                <p>Template for health insurance with comprehensive coverage including regular checkups.</p>
            </div>
            <div class="policy-template-box">
                <div class="template-header">
                    <h4>Basic Auto Insurance</h4>
                    <div class="template-actions">
                        <button class="btn-save btn-sm btn-edit">Edit</button>
                        <button class="btn-save btn-sm btn-delete">Delete</button>
                    </div>
                </div>
                <p>Template for standard auto insurance with basic liability coverage.</p>
            </div>
        </div>
    </div>

    <!-- Security Settings Tab -->
    <div id="security" class="tab-content">
        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-shield-alt"></i> Security Settings
                </div>
            </div>
            <div class="settings-cards">
                <div class="settings-card">
                    <div class="card-title">Admin Access Control</div>
                    <div class="card-description">Configure security options for admin accounts</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="session_timeout">Session Timeout (minutes)</label>
                            <input type="number" id="session_timeout" class="form-control" value="30">
                        </div>
                        <div class="form-group">
                            <label>Require Two-Factor Authentication</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>IP Restriction</label>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="allowed_ips">Allowed IP Addresses (comma separated)</label>
                            <input type="text" id="allowed_ips" class="form-control" placeholder="192.168.1.1, 10.0.0.5">
                        </div>
                        <button type="submit" class="btn-save">Save Settings</button>
                    </form>
                </div>
                <div class="settings-card">
                    <div class="card-title">Password Policy</div>
                    <div class="card-description">Configure password requirements for all users</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="min_length">Minimum Password Length</label>
                            <input type="number" id="min_length" class="form-control" value="8">
                        </div>
                        <div class="form-group">
                            <label>Require Uppercase Letter</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Require Number</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Require Special Character</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="password_expiry">Password Expiry (days)</label>
                            <input type="number" id="password_expiry" class="form-control" value="90">
                        </div>
                        <button type="submit" class="btn-save">Save Policy</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-user-lock"></i> Role Management
                </div>
                <button class="btn-save" onclick="openAddRoleModal()">Add New Role</button>
            </div>
            <div class="settings-cards">
                <div class="settings-card">
                    <div class="card-title">Admin Access Roles</div>
                    <div class="card-description">Configure permission sets for admin users</div>
                    <div class="policy-template-box">
                        <div class="template-header">
                            <h4>Super Admin</h4>
                            <div class="template-actions">
                                <button class="btn-save btn-sm btn-edit">Edit</button>
                            </div>
                        </div>
                        <p>Full access to all system features and settings</p>
                    </div>
                    <div class="policy-template-box">
                        <div class="template-header">
                            <h4>Claims Manager</h4>
                            <div class="template-actions">
                                <button class="btn-save btn-sm btn-edit">Edit</button>
                                <button class="btn-save btn-sm btn-delete">Delete</button>
                            </div>
                        </div>
                        <p>Manage and process insurance claims only</p>
                    </div>
                    <div class="policy-template-box">
                        <div class="template-header">
                            <h4>Document Verifier</h4>
                            <div class="template-actions">
                                <button class="btn-save btn-sm btn-edit">Edit</button>
                                <button class="btn-save btn-sm btn-delete">Delete</button>
                            </div>
                        </div>
                        <p>Verify customer documents and identities</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-history"></i> Activity Logs
                </div>
            </div>
            <div class="settings-cards">
                <div class="settings-card" style="grid-column: span 2;">
                    <div class="card-title">Log Settings</div>
                    <div class="card-description">Configure system activity logging</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label>Log Admin Actions</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Log User Actions</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Log Failed Login Attempts</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="log_retention">Log Retention Period (days)</label>
                            <input type="number" id="log_retention" class="form-control" value="90">
                        </div>
                        <button type="submit" class="btn-save">Save Settings</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- System & Maintenance Tab -->
    <div id="system" class="tab-content">
        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-database"></i> Backup & Restore
                </div>
                <button class="btn-save">Create Backup Now</button>
            </div>
            <div class="settings-cards">
                <div class="settings-card">
                    <div class="card-title">Backup Settings</div>
                    <div class="card-description">Configure automatic system backups</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label>Enable Automatic Backups</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="backup_frequency">Backup Frequency</label>
                            <select id="backup_frequency" class="form-control">
                                <option>Daily</option>
                                <option selected>Weekly</option>
                                <option>Monthly</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="backup_time">Backup Time</label>
                            <input type="time" id="backup_time" class="form-control" value="02:00">
                        </div>
                        <div class="form-group">
                            <label for="backup_retention">Backup Retention (days)</label>
                            <input type="number" id="backup_retention" class="form-control" value="30">
                        </div>
                        <button type="submit" class="btn-save">Save Settings</button>
                    </form>
                </div>
                <div class="settings-card">
                    <div class="card-title">Backup History</div>
                    <div class="card-description">Recent system backups</div>
                    <div class="backup-history">
                        <div class="backup-item">
                            <div class="backup-date">Apr 27, 2025 - 02:00 AM</div>
                            <div class="backup-size">245 MB</div>
                            <div class="backup-actions">
                                <button class="btn-save btn-sm">Restore</button>
                                <button class="btn-save btn-sm btn-delete">Delete</button>
                            </div>
                        </div>
                        <div class="backup-item">
                            <div class="backup-date">Apr 20, 2025 - 02:00 AM</div>
                            <div class="backup-size">240 MB</div>
                            <div class="backup-actions">
                                <button class="btn-save btn-sm">Restore</button>
                                <button class="btn-save btn-sm btn-delete">Delete</button>
                            </div>
                        </div>
                        <div class="backup-item">
                            <div class="backup-date">Apr 13, 2025 - 02:00 AM</div>
                            <div class="backup-size">238 MB</div>
                            <div class="backup-actions">
                                <button class="btn-save btn-sm">Restore</button>
                                <button class="btn-save btn-sm btn-delete">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-tools"></i> System Maintenance
                </div>
            </div>
            <div class="settings-cards">
                <div class="settings-card">
                    <div class="card-title">Performance Optimization</div>
                    <div class="card-description">Manage system performance settings</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label>Enable Caching</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="cache_duration">Cache Duration (minutes)</label>
                            <input type="number" id="cache_duration" class="form-control" value="30">
                        </div>
                        <div class="form-group">
                            <label>Compress HTTP Responses</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <button type="submit" class="btn-save">Save Settings</button>
                    </form>
                </div>
                <div class="settings-card">
                    <div class="card-title">System Cleanup</div>
                    <div class="card-description">Clean temporary files and optimize database</div>
                    <div class="settings-form">
                        <div class="form-group">
                            <button class="btn-save" style="width: 100%; margin-bottom: 10px;">Clear Cache</button>
                        </div>
                        <div class="form-group">
                            <button class="btn-save" style="width: 100%; margin-bottom: 10px;">Optimize Database</button>
                        </div>
                        <div class="form-group">
                            <button class="btn-save" style="width: 100%; margin-bottom: 10px;">Clean Temporary Files</button>
                        </div>
                        <div class="form-group">
                            <label>Automatic Cleanup</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="cleanup_frequency">Cleanup Frequency</label>
                            <select id="cleanup_frequency" class="form-control">
                                <option>Daily</option>
                                <option selected>Weekly</option>
                                <option>Monthly</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="settings-section">
            <div class="settings-header">
                <div class="settings-title">
                    <i class="fas fa-code"></i> API Configuration
                </div>
            </div>
            <div class="settings-cards">
                <div class="settings-card" style="grid-column: span 2;">
                    <div class="card-title">API Access</div>
                    <div class="card-description">Manage API settings and keys</div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label>Enable API Access</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="api_key">API Key</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="api_key" class="form-control" value="ib_api_8f72c9a1b5d34e8a9c6f" readonly style="flex-grow: 1;">
                                <button type="button" class="btn-save">Regenerate</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="api_rate_limit">Rate Limit (requests per minute)</label>
                            <input type="number" id="api_rate_limit" class="form-control" value="100">
                        </div>
                        <div class="form-group">
                            <label>Allow CORS</label>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="allowed_origins">Allowed Origins (comma separated)</label>
                            <input type="text" id="allowed_origins" class="form-control" value="https://app.insurebee.com, https://partner.insurebee.com">
                        </div>
                        <button type="submit" class="btn-save">Save Settings</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Template Edit Modal -->
<div id="editTemplateModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeEditTemplateModal()">&times;</span>
        <h2>Edit Email Template</h2>
        <form class="settings-form">
            <div class="form-group">
                <label for="template_name">Template Name</label>
                <input type="text" id="template_name" class="form-control" value="Welcome Email">
            </div>
            <div class="form-group">
                <label for="template_subject">Email Subject</label>
                <input type="text" id="template_subject" class="form-control" value="Welcome to InsureBee!">
            </div>
            <div class="form-group">
                <label for="template_content">Email Content</label>
                <textarea id="template_content" class="form-control" rows="10">
Dear {{customer_name}},

Welcome to InsureBee! We're thrilled to have you join our community.

Your account has been successfully created and you can now access all of our services. Your customer ID is {{customer_id}}.

If you have any questions or need assistance, please don't hesitate to contact our support team at support@insurebee.com or call us at +1 (555) 123-4567.

Best regards,
The InsureBee Team
                </textarea>
            </div>
            <div class="form-group">
                <label>Available Variables:</label>
                <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 5px;">
                    <span style="background: #f0f0f0; padding: 5px; border-radius: 3px;">{{customer_name}}</span>
                    <span style="background: #f0f0f0; padding: 5px; border-radius: 3px;">{{customer_id}}</span>
                    <span style="background: #f0f0f0; padding: 5px; border-radius: 3px;">{{policy_number}}</span>
                    <span style="background: #f0f0f0; padding: 5px; border-radius: 3px;">{{policy_type}}</span>
                    <span style="background: #f0f0f0; padding: 5px; border-radius: 3px;">{{expiry_date}}</span>
                </div>
            </div>
            <button type="submit" class="btn-save">Save Template</button>
        </form>
    </div>
</div>

<!-- Add Template Modal -->
<div id="addTemplateModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeAddTemplateModal()">&times;</span>
        <h2>Add New Policy Template</h2>
        <form class="settings-form">
            <div class="form-group">
                <label for="new_template_name">Template Name</label>
                <input type="text" id="new_template_name" class="form-control" placeholder="Enter template name">
            </div>
            <div class="form-group">
                <label for="template_type">Policy Type</label>
                <select id="template_type" class="form-control">
                    <option>Life Insurance</option>
                    <option>Health Insurance</option>
                    <option>Auto Insurance</option>
                    <option>Home Insurance</option>
                    <option>Travel Insurance</option>
                </select>
            </div>
            <div class="form-group">
                <label for="template_description">Description</label>
                <textarea id="template_description" class="form-control" rows="3" placeholder="Enter template description"></textarea>
            </div>
            <div class="form-group">
                <label>Default Options</label>
                <div style="margin-top: 10px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <label>Coverage Amount</label>
                        <input type="text" class="form-control" style="width: 60%;" placeholder="Default coverage amount">
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <label>Deductible</label>
                        <input type="text" class="form-control" style="width: 60%;" placeholder="Default deductible">
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <label>Premium Calculation</label>
                        <select class="form-control" style="width: 60%;">
                            <option>Standard Rate</option>
                            <option>Risk-Based</option>
                            <option>Age-Based</option>
                        </select>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn-save">Create Template</button>
        </form>
    </div>
</div>

<!-- Add Role Modal -->
<div id="addRoleModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeAddRoleModal()">&times;</span>
        <h2>Add New Role</h2>
        <form class="settings-form">
            <div class="form-group">
                <label for="role_name">Role Name</label>
                <input type="text" id="role_name" class="form-control" placeholder="Enter role name">
            </div>
            <div class="form-group">
                <label for="role_description">Description</label>
                <textarea id="role_description" class="form-control" rows="2" placeholder="Enter role description"></textarea>
            </div>
            <div class="form-group">
                <label>Permissions</label>
                <div style="margin-top: 10px;">
                    <div style="margin-bottom: 10px;">
                        <h4>Customer Management</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-left: 15px;">
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">View Customers</span>
                            </div>
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">Edit Customers</span>
                            </div>
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">Delete Customers</span>
                            </div>
                        </div>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <h4>Policy Management</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-left: 15px;">
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">View Policies</span>
                            </div>
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">Create Policies</span>
                            </div>
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">Edit Policies</span>
                            </div>
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">Cancel Policies</span>
                            </div>
                        </div>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <h4>Claims Management</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-left: 15px;">
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">View Claims</span>
                            </div>
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">Process Claims</span>
                            </div>
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">Approve/Deny Claims</span>
                            </div>
                        </div>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <h4>System Settings</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-left: 15px;">
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">View Settings</span>
                            </div>
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">Edit Settings</span>
                            </div>
                            <div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                                <span style="margin-left: 5px;">User Management</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn-save">Create Role</button>
        </form>
    </div>
</div>

<script>
    // Tab switching functionality
    document.addEventListener('DOMContentLoaded', function() {
        const tabs = document.querySelectorAll('.settings-tab');
        const tabContents = document.querySelectorAll('.tab-content');
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                // Deactivate all tabs and contents
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                // Activate clicked tab and corresponding content
                tab.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });
    });
    
    // Modal functions
    function openEditTemplateModal() {
        document.getElementById('editTemplateModal').style.display = 'block';
    }
    
    function closeEditTemplateModal() {
        document.getElementById('editTemplateModal').style.display = 'none';
    }
    
    function openAddTemplateModal() {
        document.getElementById('addTemplateModal').style.display = 'block';
    }
    
    function closeAddTemplateModal() {
        document.getElementById('addTemplateModal').style.display = 'none';
    }
    
    function openAddRoleModal() {
        document.getElementById('addRoleModal').style.display = 'block';
    }
    
    function closeAddRoleModal() {
        document.getElementById('addRoleModal').style.display = 'none';
    }
</script>
{% endblock %}